<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EYElearn - Fun Vision Tests for Kids</title>
    <meta name="description" content="Free, fun eye tests for kids! Check vision health with gamified Snellen, Astigmatism, and Color Blind tests. Educational and doctor-approved screening.">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üëÅÔ∏è</text></svg>">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;500;600;700&family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        h1, h2, h3, .fun-font {
            font-family: 'Fredoka', sans-serif;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }
        
        @keyframes float-delayed {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-15px) rotate(-5deg); }
        }

        @keyframes blink {
            0%, 96%, 98% { transform: scaleY(1); }
            97% { transform: scaleY(0.1); }
        }

        @keyframes wiggle {
            0%, 100% { transform: rotate(-3deg); }
            50% { transform: rotate(3deg); }
        }

        .floating {
            animation: float 6s ease-in-out infinite;
        }
        
        .floating-delayed {
            animation: float-delayed 7s ease-in-out infinite;
        }

        .eye-blink {
            animation: blink 4s infinite;
            transform-origin: center;
        }

        .wiggle:hover {
            animation: wiggle 0.5s ease-in-out infinite;
        }

        .glass {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
        }

        ::-webkit-scrollbar {
            width: 10px;
        }
        ::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.1);
        }
        ::-webkit-scrollbar-thumb {
            background: rgba(255,255,255,0.5);
            border-radius: 5px;
        }

        .snellen-line {
            transition: all 0.3s ease;
            font-family: 'Courier New', monospace;
            font-weight: bold;
        }
        
        .color-plate {
            transition: transform 0.2s;
            cursor: pointer;
        }
        .color-plate:hover {
            transform: scale(1.05);
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background-color: #f0f;
            animation: confetti-fall 3s linear forwards;
            z-index: 9999;
        }
        
        @keyframes confetti-fall {
            0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
        }

        .mascot-eye {
            width: 120px;
            height: 120px;
            background: white;
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: inline-block;
        }
        
        .mascot-pupil {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            transition: all 0.1s;
        }
        
        .mascot-shine {
            width: 15px;
            height: 15px;
            background: white;
            border-radius: 50%;
            position: absolute;
            top: 25%;
            right: 25%;
        }

        .hidden-section {
            display: none;
            opacity: 0;
        }
        
        .visible-section {
            display: block;
            opacity: 1;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .btn-bounce:active {
            transform: scale(0.95);
        }

        .progress-bar {
            transition: width 0.5s ease;
        }

        .test-card {
            transition: all 0.3s ease;
        }
        
        .test-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .result-badge {
            animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes popIn {
            0% { transform: scale(0); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        .grid-bg {
            background-image: radial-gradient(circle at 1px 1px, rgba(255,255,255,0.15) 1px, transparent 0);
            background-size: 20px 20px;
        }

        .blob {
            position: absolute;
            filter: blur(40px);
            opacity: 0.4;
            animation: move 20s infinite alternate;
        }

        @keyframes move {
            from { transform: translate(0, 0) scale(1); }
            to { transform: translate(20px, -20px) scale(1.1); }
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- Background Blobs -->
    <div class="blob bg-purple-400 w-96 h-96 rounded-full top-0 left-0 -translate-x-1/2 -translate-y-1/2"></div>
    <div class="blob bg-blue-400 w-96 h-96 rounded-full bottom-0 right-0 translate-x-1/2 translate-y-1/2 animation-delay-2000"></div>

    <!-- Navigation -->
    <nav class="fixed w-full z-50 glass px-6 py-4 transition-all duration-300" id="navbar">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="flex items-center gap-3 cursor-pointer group" onclick="showSection('home')">
                <div class="w-10 h-10 bg-white rounded-full flex items-center justify-center text-2xl group-hover:rotate-12 transition-transform">üëÅÔ∏è</div>
                <span class="text-2xl font-bold text-white fun-font tracking-wide group-hover:text-yellow-300 transition-colors">EYElearn</span>
            </div>
            <div class="hidden md:flex gap-6">
                <button onclick="showSection('home')" class="text-white hover:text-yellow-300 font-semibold transition relative group">
                    Home
                    <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-yellow-300 transition-all group-hover:w-full"></span>
                </button>
                <button onclick="showSection('tests')" class="text-white hover:text-yellow-300 font-semibold transition relative group">
                    Tests
                    <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-yellow-300 transition-all group-hover:w-full"></span>
                </button>
                <button onclick="showSection('learn')" class="text-white hover:text-yellow-300 font-semibold transition relative group">
                    Learn
                    <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-yellow-300 transition-all group-hover:w-full"></span>
                </button>
                <button onclick="showSection('about')" class="text-white hover:text-yellow-300 font-semibold transition relative group">
                    About
                    <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-yellow-300 transition-all group-hover:w-full"></span>
                </button>
            </div>
            <button onclick="toggleMobileMenu()" class="md:hidden text-white text-2xl hover:rotate-90 transition-transform">‚ò∞</button>
        </div>
        
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden mt-4 pb-4 space-y-3">
            <button onclick="showSection('home'); toggleMobileMenu()" class="block w-full text-left text-white hover:text-yellow-300 font-semibold py-2">Home</button>
            <button onclick="showSection('tests'); toggleMobileMenu()" class="block w-full text-left text-white hover:text-yellow-300 font-semibold py-2">Tests</button>
            <button onclick="showSection('learn'); toggleMobileMenu()" class="block w-full text-left text-white hover:text-yellow-300 font-semibold py-2">Learn</button>
            <button onclick="showSection('about'); toggleMobileMenu()" class="block w-full text-left text-white hover:text-yellow-300 font-semibold py-2">About</button>
        </div>
    </nav>

    <!-- HOME SECTION -->
    <section id="home" class="visible-section pt-24 pb-12 px-4 min-h-screen flex items-center grid-bg">
        <div class="max-w-7xl mx-auto grid md:grid-cols-2 gap-12 items-center">
            <div class="text-white space-y-6 z-10">
                <div class="inline-flex items-center gap-2 px-4 py-2 bg-white/20 rounded-full text-sm font-bold mb-2 backdrop-blur-sm border border-white/30 hover:bg-white/30 transition cursor-pointer" onclick="showSection('tests')">
                    <span class="animate-pulse">üéÆ</span> Fun & Educational
                    <span class="text-xs bg-yellow-400 text-purple-900 px-2 py-0.5 rounded-full">NEW</span>
                </div>
                <h1 class="text-5xl md:text-7xl font-bold leading-tight">
                    Check Your Eyes<br>
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 to-pink-300">While Playing!</span>
                </h1>
                <p class="text-xl md:text-2xl opacity-90 leading-relaxed max-w-lg">
                    Join thousands of kids discovering their vision superpowers. Take our colorful, interactive tests to learn about your eyes!
                </p>
                <div class="flex flex-wrap gap-4 pt-4">
                    <button onclick="showSection('tests')" class="btn-bounce px-8 py-4 bg-gradient-to-r from-yellow-400 to-orange-400 hover:from-yellow-300 hover:to-orange-300 text-purple-900 rounded-2xl font-bold text-lg transform hover:scale-105 transition shadow-lg flex items-center gap-2 group">
                        Start Adventure 
                        <span class="group-hover:translate-x-1 transition-transform">üöÄ</span>
                    </button>
                    <button onclick="showSection('learn')" class="btn-bounce px-8 py-4 bg-white/20 hover:bg-white/30 text-white rounded-2xl font-bold text-lg backdrop-blur-sm transition flex items-center gap-2 border border-white/30">
                        Learn First üìö
                    </button>
                </div>
                <div class="flex flex-wrap gap-6 pt-6 text-sm opacity-90">
                    <div class="flex items-center gap-2 bg-white/10 px-4 py-2 rounded-full">
                        <span class="text-green-400 text-xl">‚úì</span> Free & Safe
                    </div>
                    <div class="flex items-center gap-2 bg-white/10 px-4 py-2 rounded-full">
                        <span class="text-blue-400 text-xl">‚úì</span> Doctor Approved
                    </div>
                    <div class="flex items-center gap-2 bg-white/10 px-4 py-2 rounded-full">
                        <span class="text-pink-400 text-xl">‚úì</span> Kid Friendly
                    </div>
                </div>
            </div>
            
            <div class="relative flex justify-center items-center">
                <div class="relative floating">
                    <div class="mascot-eye eye-blink cursor-pointer" id="mascot" onclick="pokeMascot()">
                        <div class="mascot-pupil" id="mascot-pupil">
                            <div class="mascot-shine"></div>
                        </div>
                    </div>
                    <div class="absolute -top-8 -right-8 w-16 h-16 bg-yellow-300 rounded-full opacity-80 floating-delayed flex items-center justify-center text-2xl">‚ú®</div>
                    <div class="absolute -bottom-4 -left-8 w-12 h-12 bg-pink-400 rounded-full opacity-80 flex items-center justify-center text-xl" style="animation: float 5s ease-in-out infinite reverse;">üíú</div>
                    <div class="absolute top-1/2 -right-16 text-6xl floating-delayed cursor-pointer hover:scale-110 transition-transform" onclick="waveMascot()">üëã</div>
                </div>
            </div>
        </div>
        
        <!-- Stats Bar -->
        <div class="absolute bottom-0 left-0 w-full glass border-t border-white/20">
            <div class="max-w-7xl mx-auto px-6 py-4 flex justify-around text-white text-center">
                <div>
                    <div class="text-2xl font-bold fun-font">10k+</div>
                    <div class="text-xs opacity-80">Kids Tested</div>
                </div>
                <div>
                    <div class="text-2xl font-bold fun-font">3</div>
                    <div class="text-xs opacity-80">Fun Tests</div>
                </div>
                <div>
                    <div class="text-2xl font-bold fun-font">100%</div>
                    <div class="text-xs opacity-80">Free</div>
                </div>
            </div>
        </div>
    </section>

    <!-- TESTS MENU SECTION -->
    <section id="tests" class="hidden-section pt-24 pb-12 px-4 min-h-screen grid-bg">
        <div class="max-w-6xl mx-auto">
            <div class="text-center mb-12">
                <h2 class="text-4xl md:text-5xl font-bold text-white mb-4 fun-font">Choose Your Challenge</h2>
                <p class="text-white/80 text-lg max-w-2xl mx-auto">Pick a test to check different superpowers of your eyes! Each test takes about 2 minutes.</p>
            </div>

            <div class="grid md:grid-cols-3 gap-8">
                <!-- Snellen Card -->
                <div class="test-card glass-card rounded-3xl p-8 cursor-pointer group relative overflow-hidden" onclick="startTest('snellen')">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-blue-200 rounded-full -mr-16 -mt-16 opacity-50 group-hover:scale-150 transition-transform duration-500"></div>
                    <div class="relative z-10">
                        <div class="w-20 h-20 bg-blue-100 rounded-2xl flex items-center justify-center text-4xl mb-6 group-hover:rotate-12 transition-transform shadow-lg">
                            üî§
                        </div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-2 fun-font">The Big Letter Game</h3>
                        <p class="text-gray-600 mb-4">Check if you can see far away clearly! Test your visual acuity with classic eye charts.</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs font-bold text-blue-600 bg-blue-100 px-3 py-1 rounded-full">2 min</span>
                            <span class="text-blue-600 font-bold flex items-center gap-1 group-hover:gap-2 transition-all">
                                Play Now ‚Üí
                            </span>
                        </div>
                    </div>
                </div>

                <!-- Astigmatism Card -->
                <div class="test-card glass-card rounded-3xl p-8 cursor-pointer group relative overflow-hidden" onclick="startTest('astigmatism')">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-purple-200 rounded-full -mr-16 -mt-16 opacity-50 group-hover:scale-150 transition-transform duration-500"></div>
                    <div class="relative z-10">
                        <div class="w-20 h-20 bg-purple-100 rounded-2xl flex items-center justify-center text-4xl mb-6 group-hover:rotate-12 transition-transform shadow-lg">
                            üéØ
                        </div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-2 fun-font">The Line Puzzle</h3>
                        <p class="text-gray-600 mb-4">Do lines look blurry or wavy? Find out if you have astigmatism with our radial wheel test.</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs font-bold text-purple-600 bg-purple-100 px-3 py-1 rounded-full">1 min</span>
                            <span class="text-purple-600 font-bold flex items-center gap-1 group-hover:gap-2 transition-all">
                                Play Now ‚Üí
                            </span>
                        </div>
                    </div>
                </div>

                <!-- Color Card -->
                <div class="test-card glass-card rounded-3xl p-8 cursor-pointer group relative overflow-hidden" onclick="startTest('color')">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-green-200 rounded-full -mr-16 -mt-16 opacity-50 group-hover:scale-150 transition-transform duration-500"></div>
                    <div class="relative z-10">
                        <div class="w-20 h-20 bg-green-100 rounded-2xl flex items-center justify-center text-4xl mb-6 group-hover:rotate-12 transition-transform shadow-lg">
                            üé®
                        </div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-2 fun-font">Color Spy</h3>
                        <p class="text-gray-600 mb-4">Can you spot the hidden numbers in the dots? Test your color vision with Ishihara plates.</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xs font-bold text-green-600 bg-green-100 px-3 py-1 rounded-full">3 min</span>
                            <span class="text-green-600 font-bold flex items-center gap-1 group-hover:gap-2 transition-all">
                                Play Now ‚Üí
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Progress Tracker -->
            <div class="mt-12 glass-card rounded-2xl p-6 max-w-2xl mx-auto">
                <h4 class="font-bold text-gray-800 mb-3 flex items-center gap-2">
                    <span>üèÜ</span> Your Progress
                </h4>
                <div class="flex gap-2 mb-2">
                    <div id="progress-snellen" class="h-3 flex-1 bg-gray-200 rounded-full overflow-hidden">
                        <div class="h-full bg-blue-500 w-0 progress-bar"></div>
                    </div>
                    <div id="progress-astigmatism" class="h-3 flex-1 bg-gray-200 rounded-full overflow-hidden">
                        <div class="h-full bg-purple-500 w-0 progress-bar"></div>
                    </div>
                    <div id="progress-color" class="h-3 flex-1 bg-gray-200 rounded-full overflow-hidden">
                        <div class="h-full bg-green-500 w-0 progress-bar"></div>
                    </div>
                </div>
                <div class="flex justify-between text-xs text-gray-500">
                    <span>Big Letter</span>
                    <span>Line Puzzle</span>
                    <span>Color Spy</span>
                </div>
                <div id="completion-message" class="hidden mt-3 text-center text-sm font-bold text-purple-600">
                    üéâ Amazing! You've completed all tests!
                </div>
            </div>

            <div class="mt-12 text-center">
                <button onclick="showSection('home')" class="text-white/80 hover:text-white font-semibold underline underline-offset-4 transition">‚Üê Back to Home</button>
            </div>
        </div>
    </section>

    <!-- SNELLEN TEST SECTION -->
    <section id="snellen-test" class="hidden-section pt-24 pb-12 px-4 min-h-screen bg-white">
        <div class="max-w-4xl mx-auto">
            <div class="flex justify-between items-center mb-8">
                <div>
                    <h2 class="text-3xl font-bold text-gray-800 fun-font">The Big Letter Game</h2>
                    <p class="text-gray-500">Test 1 of 3 ‚Ä¢ Visual Acuity</p>
                </div>
                <button onclick="showSection('tests')" class="text-gray-400 hover:text-gray-600 text-2xl transition hover:rotate-90">‚úï</button>
            </div>

            <div class="bg-blue-50 rounded-3xl p-8 mb-8 border-2 border-blue-100">
                <div class="flex items-start gap-4 mb-6">
                    <div class="w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white text-xl shadow-lg">üí°</div>
                    <div class="flex-1">
                        <h4 class="font-bold text-gray-800 mb-1">How to play:</h4>
                        <ul class="text-gray-600 text-sm space-y-1 list-disc list-inside">
                            <li>Cover one eye with your hand</li>
                            <li>Stand 10 feet (3 meters) back from the screen</li>
                            <li>Read the letters from top to bottom</li>
                            <li>Click the button when you can't read further</li>
                        </ul>
                    </div>
                    <div class="hidden md:block text-center">
                        <div class="text-3xl mb-1">üìè</div>
                        <div class="text-xs font-bold text-gray-500">10 ft / 3m</div>
                    </div>
                </div>
                
                <div class="bg-white rounded-2xl p-8 shadow-inner">
                    <div id="snellen-container" class="space-y-4 text-center py-8">
                        <!-- Dynamic content -->
                    </div>
                </div>

                <div id="snellen-controls" class="flex flex-wrap justify-center gap-4 mt-8">
                    <button onclick="checkSnellen('20/20')" class="btn-bounce px-6 py-3 bg-green-500 hover:bg-green-600 text-white rounded-xl font-bold transition shadow-lg flex items-center gap-2">
                        <span>‚úì</span> I can read all!
                    </button>
                    <button onclick="checkSnellen('20/40')" class="btn-bounce px-6 py-3 bg-yellow-500 hover:bg-yellow-600 text-white rounded-xl font-bold transition shadow-lg flex items-center gap-2">
                        <span>‚ö†Ô∏è</span> Stopped at middle
                    </button>
                    <button onclick="checkSnellen('20/200')" class="btn-bounce px-6 py-3 bg-red-500 hover:bg-red-600 text-white rounded-xl font-bold transition shadow-lg flex items-center gap-2">
                        <span>‚úó</span> Only top few
                    </button>
                </div>
            </div>

            <div id="snellen-result" class="hidden text-center p-8 rounded-3xl bg-gray-50 border-2 border-gray-200">
                <!-- Results -->
            </div>
        </div>
    </section>

    <!-- ASTIGMATISM TEST SECTION -->
    <section id="astigmatism-test" class="hidden-section pt-24 pb-12 px-4 min-h-screen bg-white">
        <div class="max-w-4xl mx-auto">
            <div class="flex justify-between items-center mb-8">
                <div>
                    <h2 class="text-3xl font-bold text-gray-800 fun-font">The Line Puzzle</h2>
                    <p class="text-gray-500">Test 2 of 3 ‚Ä¢ Astigmatism Check</p>
                </div>
                <button onclick="showSection('tests')" class="text-gray-400 hover:text-gray-600 text-2xl transition hover:rotate-90">‚úï</button>
            </div>

            <div class="bg-purple-50 rounded-3xl p-8 border-2 border-purple-100">
                <div class="flex items-start gap-4 mb-8">
                    <div class="w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center text-white text-xl shadow-lg">üëÅÔ∏è</div>
                    <div>
                        <h4 class="font-bold text-gray-800 mb-1">What to look for:</h4>
                        <p class="text-gray-600">Cover one eye. Look at the fan of lines below. Do some lines look darker, blurrier, or thicker than others?</p>
                    </div>
                </div>

                <div class="flex justify-center mb-8 bg-white rounded-2xl p-8 shadow-inner">
                    <svg width="300" height="300" viewBox="0 0 300 300" class="transform hover:scale-105 transition duration-500">
                        <defs>
                            <filter id="glow">
                                <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                                <feMerge>
                                    <feMergeNode in="coloredBlur"/>
                                    <feMergeNode in="SourceGraphic"/>
                                </feMerge>
                            </filter>
                        </defs>
                        <g transform="translate(150,150)" filter="url(#glow)">
                            <line x1="0" y1="0" x2="0" y2="-140" stroke="#333" stroke-width="2" class="hover:stroke-purple-500 transition-colors" />
                            <line x1="0" y1="0" x2="99" y2="-99" stroke="#333" stroke-width="2" />
                            <line x1="0" y1="0" x2="140" y2="0" stroke="#333" stroke-width="2" />
                            <line x1="0" y1="0" x2="99" y2="99" stroke="#333" stroke-width="2" />
                            <line x1="0" y1="0" x2="0" y2="140" stroke="#333" stroke-width="2" />
                            <line x1="0" y1="0" x2="-99" y2="99" stroke="#333" stroke-width="2" />
                            <line x1="0" y1="0" x2="-140" y2="0" stroke="#333" stroke-width="2" />
                            <line x1="0" y1="0" x2="-99" y2="-99" stroke="#333" stroke-width="2" />
                            
                            <text x="0" y="-125" text-anchor="middle" class="text-xs fill-gray-400">90¬∞</text>
                            <text x="125" y="5" text-anchor="middle" class="text-xs fill-gray-400">0¬∞</text>
                            <text x="0" y="135" text-anchor="middle" class="text-xs fill-gray-400">270¬∞</text>
                            <text x="-125" y="5" text-anchor="middle" class="text-xs fill-gray-400">180¬∞</text>
                            
                            <circle cx="0" cy="0" r="8" fill="#764ba2" class="animate-pulse" />
                        </g>
                    </svg>
                </div>

                <div class="grid md:grid-cols-2 gap-4 max-w-2xl mx-auto">
                    <button onclick="checkAstigmatism(false)" class="btn-bounce p-6 bg-white border-2 border-gray-200 rounded-2xl hover:border-green-500 hover:bg-green-50 transition text-left group shadow-sm hover:shadow-md">
                        <div class="text-3xl mb-2 group-hover:scale-110 transition-transform">‚úì</div>
                        <div class="font-bold text-gray-800 mb-1">All lines look the same</div>
                        <div class="text-sm text-gray-500">Same darkness and sharpness all around</div>
                    </button>
                    <button onclick="checkAstigmatism(true)" class="btn-bounce p-6 bg-white border-2 border-gray-200 rounded-2xl hover:border-purple-500 hover:bg-purple-50 transition text-left group shadow-sm hover:shadow-md">
                        <div class="text-3xl mb-2 group-hover:scale-110 transition-transform">‚ö†Ô∏è</div>
                        <div class="font-bold text-gray-800 mb-1">Some look different</div>
                        <div class="text-sm text-gray-500">Some lines appear darker, blurrier, or thicker</div>
                    </button>
                </div>
            </div>

            <div id="astigmatism-result" class="hidden mt-8 text-center p-8 rounded-3xl bg-gray-50 border-2 border-gray-200">
                <!-- Results -->
            </div>
        </div>
    </section>

    <!-- COLOR BLIND TEST SECTION -->
    <section id="color-test" class="hidden-section pt-24 pb-12 px-4 min-h-screen bg-white">
        <div class="max-w-4xl mx-auto">
            <div class="flex justify-between items-center mb-8">
                <div>
                    <h2 class="text-3xl font-bold text-gray-800 fun-font">Color Spy</h2>
                    <p class="text-gray-500">Test 3 of 3 ‚Ä¢ Color Vision</p>
                </div>
                <button onclick="showSection('tests')" class="text-gray-400 hover:text-gray-600 text-2xl transition hover:rotate-90">‚úï</button>
            </div>

            <div class="bg-green-50 rounded-3xl p-8 border-2 border-green-100">
                <div class="flex items-start gap-4 mb-8">
                    <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white text-xl shadow-lg">üé®</div>
                    <div class="flex-1">
                        <h4 class="font-bold text-gray-800 mb-1">Find the secret number!</h4>
                        <p class="text-gray-600">Look at the colored circles. There is a hidden number inside made of different colored dots. What number do you see?</p>
                    </div>
                    <div class="bg-white px-4 py-2 rounded-xl shadow-sm">
                        <div class="text-xs text-gray-500 uppercase font-bold">Plate</div>
                        <div class="text-2xl font-bold text-green-600" id="plate-counter">1/3</div>
                    </div>
                </div>

                <div id="color-test-container" class="space-y-8">
                    <!-- Ishihara plates generated here -->
                </div>

                <div id="color-progress" class="mt-8 max-w-md mx-auto bg-white rounded-full h-2 overflow-hidden shadow-inner">
                    <div class="h-full bg-green-500 transition-all duration-500" style="width: 33%" id="color-progress-bar"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- LEARN SECTION -->
    <section id="learn" class="hidden-section pt-24 pb-12 px-4 min-h-screen grid-bg">
        <div class="max-w-6xl mx-auto">
            <div class="text-center mb-12">
                <h2 class="text-4xl md:text-5xl font-bold text-white mb-4 fun-font">How Your Eyes Work</h2>
                <p class="text-white/80 text-lg">Discover the amazing world of vision!</p>
            </div>
            
            <div class="grid md:grid-cols-2 gap-8 mb-12">
                <!-- Myopia Card -->
                <div class="glass-card rounded-3xl p-8 hover:shadow-2xl transition-shadow">
                    <h3 class="text-2xl font-bold text-gray-800 mb-4 fun-font flex items-center gap-2">
                        <span class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 text-sm">1</span>
                        What is Myopia? (Nearsightedness)
                    </h3>
                    <div class="bg-blue-100 rounded-2xl p-4 mb-4 h-48 flex items-center justify-center relative overflow-hidden group">
                        <div class="absolute inset-0 flex items-center justify-center transition-transform group-hover:scale-110">
                            <div class="text-6xl z-10">üëÅÔ∏è</div>
                            <div class="text-4xl ml-8 blur-sm opacity-50">üèîÔ∏è</div>
                            <div class="absolute text-5xl left-10 top-10 opacity-20">üìç</div>
                        </div>
                        <div class="absolute bottom-2 right-2 bg-white px-3 py-1 rounded-full text-xs font-bold shadow-sm">Far objects look blurry</div>
                    </div>
                    <p class="text-gray-600 leading-relaxed">If you have myopia, you can see things close to you clearly, but things far away look fuzzy. It's like being a superhero who can see tiny details up close! Glasses with minus (-) lenses help fix this.</p>
                </div>

                <!-- Hyperopia Card -->
                <div class="glass-card rounded-3xl p-8 hover:shadow-2xl transition-shadow">
                    <h3 class="text-2xl font-bold text-gray-800 mb-4 fun-font flex items-center gap-2">
                        <span class="w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 text-sm">2</span>
                        What is Hyperopia? (Farsightedness)
                    </h3>
                    <div class="bg-orange-100 rounded-2xl p-4 mb-4 h-48 flex items-center justify-center relative overflow-hidden group">
                        <div class="absolute inset-0 flex items-center justify-center transition-transform group-hover:scale-110">
                            <div class="text-4xl blur-sm opacity-50">üìñ</div>
                            <div class="text-6xl ml-8 z-10">üëÅÔ∏è</div>
                            <div class="absolute text-5xl right-10 bottom-10 opacity-20">üî≠</div>
                        </div>
                        <div class="absolute bottom-2 right-2 bg-white px-3 py-1 rounded-full text-xs font-bold shadow-sm">Close objects look blurry</div>
                    </div>
                    <p class="text-gray-600 leading-relaxed">Hyperopia makes it hard to see things up close, like books or phone screens, while far away objects are clear. It's like having built-in binoculars! Plus (+) lenses help bring close things into focus.</p>
                </div>
            </div>

            <!-- Astigmatism Explanation -->
            <div class="glass-card rounded-3xl p-8 mb-8">
                <h3 class="text-2xl font-bold text-gray-800 mb-6 fun-font flex items-center gap-2">
                    <span class="w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center text-purple-600 text-sm">3</span>
                    What is Astigmatism?
                </h3>
                <div class="grid md:grid-cols-3 gap-6 items-center">
                    <div class="md:col-span-2">
                        <p class="text-gray-600 mb-4 leading-relaxed">
                            Astigmatism happens when your eye is shaped more like a football (oval) than a basketball (round). This makes light focus on multiple points in your eye instead of just one, causing blurry or distorted vision at all distances.
                        </p>
                        <ul class="space-y-2 text-gray-600">
                            <li class="flex items-center gap-2">
                                <span class="text-purple-500">‚Ä¢</span> Can cause headaches from eye strain
                            </li>
                            <li class="flex items-center gap-2">
                                <span class="text-purple-500">‚Ä¢</span> Makes lights look streaky or starry at night
                            </li>
                            <li class="flex items-center gap-2">
                                <span class="text-purple-500">‚Ä¢</span> Special cylindrical lenses fix it easily!
                            </li>
                        </ul>
                    </div>
                    <div class="flex justify-center">
                        <div class="relative w-40 h-40">
                            <div class="absolute inset-0 border-4 border-purple-300 rounded-full flex items-center justify-center bg-purple-50">
                                <span class="text-purple-400 font-bold">Round</span>
                            </div>
                            <div class="absolute inset-0 border-4 border-purple-500 rounded-[60%_40%] flex items-center justify-center bg-white/50 backdrop-blur-sm transform rotate-45">
                                <span class="text-purple-700 font-bold">Astigmatism</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Fun Facts -->
            <div class="glass-card rounded-3xl p-8 mb-8">
                <h3 class="text-2xl font-bold text-gray-800 mb-6 fun-font">üåü Amazing Eye Facts!</h3>
                <div class="grid md:grid-cols-3 gap-6">
                    <div class="text-center p-6 bg-white/50 rounded-2xl hover:bg-white/80 transition group cursor-pointer" onclick="this.classList.toggle('bg-yellow-100')">
                        <div class="text-4xl mb-3 group-hover:scale-110 transition-transform">üí™</div>
                        <div class="font-bold text-gray-800 mb-2">Speed Champions</div>
                        <div class="text-sm text-gray-600">Your eye muscles are the fastest in your body! They can contract in less than 1/100th of a second.</div>
                    </div>
                    <div class="text-center p-6 bg-white/50 rounded-2xl hover:bg-white/80 transition group cursor-pointer" onclick="this.classList.toggle('bg-pink-100')">
                        <div class="text-4xl mb-3 group-hover:scale-110 transition-transform">üåà</div>
                        <div class="font-bold text-gray-800 mb-2">Color Detectives</div>
                        <div class="text-sm text-gray-600">Your eyes can distinguish about 10 million different colors. Some people (tetrachromats) can see 100 million!</div>
                    </div>
                    <div class="text-center p-6 bg-white/50 rounded-2xl hover:bg-white/80 transition group cursor-pointer" onclick="this.classList.toggle('bg-blue-100')">
                        <div class="text-4xl mb-3 group-hover:scale-110 transition-transform">üì∏</div>
                        <div class="font-bold text-gray-800 mb-2">Auto-Focus Masters</div>
                        <div class="text-sm text-gray-600">Your eyes focus on 50 different objects every second, adjusting instantly like a super camera.</div>
                    </div>
                </div>
            </div>

            <!-- Eye Care Tips -->
            <div class="glass-card rounded-3xl p-8">
                <h3 class="text-2xl font-bold text-gray-800 mb-6 fun-font">üõ°Ô∏è Super Eye Care Tips</h3>
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="flex items-start gap-4 p-4 bg-green-50 rounded-xl">
                        <div class="text-3xl">ü•ï</div>
                        <div>
                            <div class="font-bold text-gray-800">Eat Rainbow Foods</div>
                            <div class="text-sm text-gray-600">Carrots (Vitamin A), leafy greens (Lutein), and fish (Omega-3) keep eyes healthy.</div>
                        </div>
                    </div>
                    <div class="flex items-start gap-4 p-4 bg-blue-50 rounded-xl">
                        <div class="text-3xl">üòé</div>
                        <div>
                            <div class="font-bold text-gray-800">Wear Sunglasses</div>
                            <div class="text-sm text-gray-600">Protect your eyes from UV rays just like sunscreen protects your skin!</div>
                        </div>
                    </div>
                    <div class="flex items-start gap-4 p-4 bg-yellow-50 rounded-xl">
                        <div class="text-3xl">‚è∞</div>
                        <div>
                            <div class="font-bold text-gray-800">20-20-20 Rule</div>
                            <div class="text-sm text-gray-600">Every 20 minutes, look at something 20 feet away for 20 seconds.</div>
                        </div>
                    </div>
                    <div class="flex items-start gap-4 p-4 bg-purple-50 rounded-xl">
                        <div class="text-3xl">üíß</div>
                        <div>
                            <div class="font-bold text-gray-800">Blink Often</div>
                            <div class="text-sm text-gray-600">We blink less when using screens. Remember to blink to keep eyes moist!</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mt-12 text-center">
                <button onclick="showSection('home')" class="text-white font-semibold hover:text-yellow-300 transition flex items-center gap-2 mx-auto">
                    <span>‚Üê</span> Back to Home
                </button>
            </div>
        </div>
    </section>

    <!-- ABOUT SECTION -->
    <section id="about" class="hidden-section pt-24 pb-12 px-4 min-h-screen grid-bg">
        <div class="max-w-3xl mx-auto">
            <div class="glass-card rounded-3xl p-8 md:p-12 shadow-2xl">
                <div class="text-center mb-8">
                    <div class="w-20 h-20 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full mx-auto mb-4 flex items-center justify-center text-4xl text-white shadow-lg">
                        üëÅÔ∏è
                    </div>
                    <h2 class="text-4xl font-bold text-gray-800 mb-2 fun-font">About EYElearn</h2>
                    <p class="text-gray-500">Making vision screening fun since 2024</p>
                </div>
                
                <div class="prose prose-lg text-gray-600 space-y-4">
                    <p>
                        EYElearn is designed to help kids understand their vision in a fun, stress-free way. Our interactive tests are based on standard screening methods used by eye doctors, but gamified for children!
                    </p>
                    
                    <div class="bg-blue-50 border-l-4 border-blue-400 p-4 my-6 rounded-r-lg">
                        <p class="font-bold text-blue-800 mb-1">üë®‚Äç‚öïÔ∏è Important Medical Disclaimer:</p>
                        <p class="text-blue-700 text-sm">These tests are for educational and screening purposes only. They do not replace a comprehensive eye exam by a professional optometrist or ophthalmologist. If you have concerns about your vision, please visit an eye doctor!</p>
                    </div>

                    <div class="grid md:grid-cols-2 gap-4 my-6">
                        <div class="bg-gray-50 p-4 rounded-xl">
                            <div class="font-bold text-gray-800 mb-1">üéØ Our Mission</div>
                            <div class="text-sm">Make vision health awareness accessible and fun for every child.</div>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-xl">
                            <div class="font-bold text-gray-800 mb-1">üîí Privacy First</div>
                            <div class="text-sm">No data leaves your device. 100% private and secure.</div>
                        </div>
                    </div>

                    <p>
                        Created with love for young learners everywhere. Remember: taking care of your eyes means taking breaks from screens, eating healthy foods like carrots and fish, and wearing sunglasses on sunny days!
                    </p>

                    <div class="text-center pt-6 border-t border-gray-200 mt-6">
                        <p class="text-sm text-gray-500 mb-4">Made with üíú for curious kids</p>
                        <div class="flex justify-center gap-4 text-2xl">
                            <span class="hover:scale-110 transition cursor-pointer" title="We love eyes!">üëÅÔ∏è</span>
                            <span class="hover:scale-110 transition cursor-pointer" title="Learning is fun!">üìö</span>
                            <span class="hover:scale-110 transition cursor-pointer" title="Stay healthy!">üåü</span>
                        </div>
                    </div>
                </div>
                
                <div class="mt-8 text-center">
                    <button onclick="showSection('home')" class="btn-bounce px-8 py-3 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-xl font-bold transition shadow-lg w-full md:w-auto">
                        Back to Home
                    </button>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Global State
        const state = {
            snellenCompleted: false,
            astigmatismCompleted: false,
            colorCompleted: false,
            colorScore: 0,
            currentPlate: 0
        };

        // Mascot Interactions
        document.addEventListener('mousemove', (e) => {
            const pupil = document.getElementById('mascot-pupil');
            if (!pupil) return;
            
            const eye = document.getElementById('mascot');
            const rect = eye.getBoundingClientRect();
            const eyeCenterX = rect.left + rect.width / 2;
            const eyeCenterY = rect.top + rect.height / 2;
            
            const angle = Math.atan2(e.clientY - eyeCenterY, e.clientX - eyeCenterX);
            const distance = Math.min(15, Math.hypot(e.clientX - eyeCenterX, e.clientY - eyeCenterY) / 10);
            
            const x = Math.cos(angle) * distance;
            const y = Math.sin(angle) * distance;
            
            pupil.style.transform = `translate(calc(-50% + ${x}px), calc(-50% + ${y}px))`;
        });

        function pokeMascot() {
            const mascot = document.getElementById('mascot');
            mascot.style.transform = 'scale(0.9)';
            setTimeout(() => mascot.style.transform = 'scale(1)', 150);
            createConfetti(10);
        }

        function waveMascot() {
            const hand = event.target;
            hand.style.animation = 'wiggle 0.5s ease-in-out 3';
            setTimeout(() => hand.style.animation = '', 1500);
        }

        // Mobile Menu
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        // Navigation
        function showSection(sectionId) {
            document.querySelectorAll('section').forEach(section => {
                section.classList.remove('visible-section');
                section.classList.add('hidden-section');
            });
            
            const target = document.getElementById(sectionId);
            if (target) {
                target.classList.remove('hidden-section');
                target.classList.add('visible-section');
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
            
            // Initialize tests
            if (sectionId === 'snellen-test') initSnellen();
            if (sectionId === 'color-test') initColorTest();
            if (sectionId === 'tests') updateProgress();
        }

        function startTest(testType) {
            showSection(testType + '-test');
        }

        // Progress Tracker
        function updateProgress() {
            if (state.snellenCompleted) {
                document.querySelector('#progress-snellen .progress-bar').style.width = '100%';
            }
            if (state.astigmatismCompleted) {
                document.querySelector('#progress-astigmatism .progress-bar').style.width = '100%';
            }
            if (state.colorCompleted) {
                document.querySelector('#progress-color .progress-bar').style.width = '100%';
            }
            
            if (state.snellenCompleted && state.astigmatismCompleted && state.colorCompleted) {
                document.getElementById('completion-message').classList.remove('hidden');
                createConfetti();
            }
        }

        // Snellen Test
        const snellenLines = [
            { text: 'E', size: 'text-9xl', acuity: '20/200' },
            { text: 'F P', size: 'text-8xl', acuity: '20/100' },
            { text: 'T O Z', size: 'text-7xl', acuity: '20/70' },
            { text: 'L P E D', size: 'text-6xl', acuity: '20/50' },
            { text: 'P E C F D', size: 'text-5xl', acuity: '20/40' },
            { text: 'E D F C Z P', size: 'text-4xl', acuity: '20/30' },
            { text: 'F E L O P Z D', size: 'text-3xl', acuity: '20/25' },
            { text: 'D E F P O T E C', size: 'text-2xl', acuity: '20/20' }
        ];

        function initSnellen() {
            const container = document.getElementById('snellen-container');
            const resultDiv = document.getElementById('snellen-result');
            const controls = document.getElementById('snellen-controls');
            
            container.innerHTML = '';
            resultDiv.classList.add('hidden');
            controls.classList.remove('hidden');
            
            snellenLines.forEach((line, index) => {
                const div = document.createElement('div');
                div.className = `snellen-line ${line.size} text-gray-800 tracking-[0.2em] mb-2`;
                div.textContent = line.text;
                div.style.opacity = index < 3 ? '1' : '0.9';
                container.appendChild(div);
            });
        }

        function checkSnellen(result) {
            const resultDiv = document.getElementById('snellen-result');
            const controls = document.getElementById('snellen-controls');
            
            controls.classList.add('hidden');
            resultDiv.classList.remove('hidden');
            state.snellenCompleted = true;
            updateProgress();
            
            let message = '';
            let colorClass = '';
            let icon = '';
            let advice = '';
            
            if (result === '20/20') {
                message = "Amazing! You have eagle eyes!";
                colorClass = 'bg-green-100 text-green-800 border-green-200';
                icon = 'ü¶Ö';
                advice = "Your vision is excellent! Keep protecting your eyes with regular breaks and healthy foods.";
                createConfetti();
            } else if (result === '20/40') {
                message = "Good job! You might be slightly nearsighted.";
                colorClass = 'bg-yellow-100 text-yellow-800 border-yellow-200';
                icon = 'üëì';
                advice = "You might need glasses for seeing far away (like the classroom board). Ask your parents about an eye check!";
            } else {
                message = "That's okay! You might need vision help.";
                colorClass = 'bg-orange-100 text-orange-800 border-orange-200';
                icon = 'üîç';
                advice = "You might need glasses to see far objects clearly. Don't worry - glasses are cool and help you see better!";
            }
            
            resultDiv.innerHTML = `
                <div class="result-badge text-6xl mb-4">${icon}</div>
                <h3 class="text-2xl font-bold mb-2 fun-font">Result: ${result}</h3>
                <div class="text-lg mb-4 p-4 rounded-xl border-2 ${colorClass} inline-block max-w-md">
                    ${message}
                </div>
                <p class="text-gray-600 mb-6 max-w-md mx-auto">${advice}</p>
                <div class="flex flex-wrap justify-center gap-3">
                    <button onclick="initSnellen()" class="btn-bounce px-6 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg font-bold transition">Try Again</button>
                    <button onclick="showSection('tests')" class="btn-bounce px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-bold transition">More Tests</button>
                    <button onclick="showSection('learn')" class="btn-bounce px-6 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-bold transition">Learn More</button>
                </div>
            `;
        }

        // Astigmatism Test
        function checkAstigmatism(hasAstigmatism) {
            const resultDiv = document.getElementById('astigmatism-result');
            resultDiv.classList.remove('hidden');
            state.astigmatismCompleted = true;
            updateProgress();
            
            if (hasAstigmatism) {
                resultDiv.innerHTML = `
                    <div class="result-badge text-6xl mb-4">üîç</div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-2 fun-font">You might have Astigmatism</h3>
                    <div class="bg-purple-100 text-purple-800 p-4 rounded-xl mb-4 inline-block">
                        This is super common! About 1 in 3 people have it.
                    </div>
                    <p class="text-gray-600 mb-4 max-w-md mx-auto">It means your eye is shaped a bit like a football instead of a basketball. Special glasses can fix this easily!</p>
                    <button onclick="showSection('tests')" class="btn-bounce px-6 py-2 bg-purple-600 text-white rounded-lg font-bold">Back to Tests</button>
                `;
            } else {
                resultDiv.innerHTML = `
                    <div class="result-badge text-6xl mb-4">‚ú®</div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-2 fun-font">No Astigmatism detected!</h3>
                    <div class="bg-green-100 text-green-800 p-4 rounded-xl mb-4 inline-block">
                        Your cornea looks nice and round. Great job!
                    </div>
                    <p class="text-gray-600 mb-4">Your eyes focus light evenly. That's excellent!</p>
                    <button onclick="showSection('tests')" class="btn-bounce px-6 py-2 bg-purple-600 text-white rounded-lg font-bold">Back to Tests</button>
                `;
                createConfetti();
            }
        }

        // Color Blind Test
        const colorPlates = [
            { answer: 12, options: [12, 5, 8, 'Nothing'] },
            { answer: 8, options: [8, 3, 6, 'Nothing'] },
            { answer: 6, options: [6, 5, 9, 'Nothing'] }
        ];

        function initColorTest() {
            state.currentPlate = 0;
            state.colorScore = 0;
            showPlate();
        }

        function showPlate() {
            const container = document.getElementById('color-test-container');
            const progressBar = document.getElementById('color-progress-bar');
            const counter = document.getElementById('plate-counter');
            
            if (state.currentPlate >= colorPlates.length) {
                showColorResults();
                return;
            }
            
            const plate = colorPlates[state.currentPlate];
            const progress = ((state.currentPlate + 1) / colorPlates.length) * 100;
            progressBar.style.width = progress + '%';
            counter.textContent = `${state.currentPlate + 1}/${colorPlates.length}`;
            
            // Generate random dots for Ishihara plate effect
            let dotsHtml = '';
            const colors = ['#e74c3c', '#3498db', '#2ecc71', '#f39c12', '#9b59b6', '#1abc9c'];
            
            for (let i = 0; i < 80; i++) {
                const color = colors[Math.floor(Math.random() * colors.length)];
                const size = Math.random() * 25 + 15;
                const left = Math.random() * 90 + 5;
                const top = Math.random() * 90 + 5;
                
                dotsHtml += `<div class="absolute rounded-full transition-transform hover:scale-110" style="
                    width: ${size}px; 
                    height: ${size}px; 
                    background: ${color}; 
                    left: ${left}%; 
                    top: ${top}%;
                    opacity: 0.85;
                "></div>`;
            }
            
            // Add "hidden" number using slightly different colored dots
            const numberColor = '#c0392b'; // Slightly different red
            const numberPositions = [
                {l: 30, t: 30}, {l: 35, t: 25}, {l: 40, t: 30}, {l: 35, t: 35}, // Circle-ish for numbers
                {l: 60, t: 60}, {l: 65, t: 55}, {l: 70, t: 60}, {l: 65, t: 65}
            ];
            
            numberPositions.forEach(pos => {
                dotsHtml += `<div class="absolute rounded-full" style="
                    width: 20px; 
                    height: 20px; 
                    background: ${numberColor}; 
                    left: ${pos.l}%; 
                    top: ${pos.t}%;
                    opacity: 0.9;
                "></div>`;
            });
            
            container.innerHTML = `
                <div class="relative w-64 h-64 mx-auto bg-gray-100 rounded-full overflow-hidden mb-8 border-4 border-gray-300 shadow-inner">
                    <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
                        <span class="text-8xl font-bold text-white/20 select-none">${plate.answer}</span>
                    </div>
                    ${dotsHtml}
                </div>
                <div class="text-center">
                    <p class="text-lg font-bold text-gray-700 mb-4">What number do you see?</p>
                    <div class="flex justify-center gap-3 flex-wrap max-w-md mx-auto">
                        ${plate.options.map(num => `
                            <button onclick="checkColorAnswer(${num}, ${plate.answer})" class="btn-bounce px-6 py-3 bg-white border-2 border-gray-200 hover:border-green-500 hover:bg-green-50 rounded-xl font-bold text-xl transition shadow-sm min-w-[80px]">
                                ${num}
                            </button>
                        `).join('')}
                    </div>
                    <button onclick="checkColorAnswer('skip', ${plate.answer})" class="mt-4 text-sm text-gray-400 hover:text-gray-600 underline">I can't see anything</button>
                </div>
            `;
        }

        function checkColorAnswer(selected, correct) {
            if (selected === correct || (selected !== 'skip' && selected === correct)) {
                state.colorScore++;
            }
            state.currentPlate++;
            showPlate();
        }

        function showColorResults() {
            const container = document.getElementById('color-test-container');
            const percentage = (state.colorScore / colorPlates.length) * 100;
            state.colorCompleted = true;
            updateProgress();
            
            let message = '';
            let colorClass = '';
            let icon = '';
            
            if (percentage === 100) {
                message = "Perfect score! You have excellent color vision!";
                colorClass = 'text-green-600';
                icon = 'üåà';
                createConfetti();
            } else if (percentage >= 66) {
                message = "Great job! You see colors very well!";
                colorClass = 'text-blue-600';
                icon = 'üëç';
            } else {
                message = "You might have some color vision differences. That's okay! Many people do.";
                colorClass = 'text-orange-600';
                icon = '‚ù§Ô∏è';
            }
            
            container.innerHTML = `
                <div class="text-center p-8 bg-white rounded-3xl shadow-lg border-2 border-gray-100">
                    <div class="result-badge text-6xl mb-4">${icon}</div>
                    <h3 class="text-3xl font-bold ${colorClass} mb-4 fun-font">${message}</h3>
                    <div class="text-5xl font-bold text-gray-800 mb-2">${state.colorScore}/${colorPlates.length}</div>
                    <p class="text-gray-500 mb-6">Correct answers</p>
                    <div class="flex justify-center gap-3">
                        <button onclick="initColorTest()" class="btn-bounce px-6 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg font-bold transition">Try Again</button>
                        <button onclick="showSection('tests')" class="btn-bounce px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-bold transition">More Tests</button>
                    </div>
                </div>
            `;
        }

        // Confetti Effect
        function createConfetti(amount = 50) {
            const colors = ['#f44336', '#e91e63', '#9c27b0', '#673ab7', '#3f51b5', '#2196f3', '#03a9f4', '#00bcd4', '#009688', '#4caf50', '#8bc34a', '#cddc39', '#ffeb3b', '#ffc107', '#ff9800', '#ff5722'];
            
            for (let i = 0; i < amount; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
                confetti.style.opacity = Math.random();
                document.body.appendChild(confetti);
                
                setTimeout(() => confetti.remove(), 4000);
            }
        }

        // Navbar scroll effect
        window.addEventListener('scroll', () => {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('shadow-lg');
                navbar.classList.replace('py-4', 'py-2');
            } else {
                navbar.classList.remove('shadow-lg');
                navbar.classList.replace('py-2', 'py-4');
            }
        });

        // Initialize
        window.onload = () => {
            showSection('home');
        };
    </script>
</body>
</html>